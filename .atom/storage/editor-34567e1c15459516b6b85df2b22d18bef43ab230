{"mode":"editor","version":1,"windowDimensions":{"x":0,"y":0,"width":1366,"height":768},"syntax":{"deserializer":"Syntax","grammarOverridesByPath":{}},"project":{"path":"/Users/tai/develops/workspace","buffers":[{"text":"#!/bin/sh\n\n# ロックファイルの有無をチェックする。\n# ロックファイルがあればファイルに記載された値のプロセスがあるか確認し、\n# プロセスがあればロックが有効とし処理を終了する。\n# ロックが有効でないときは、自分のプロセスIDをロックファイルに書き出す。\n#\n# ロックファイル名は /tmp/.{呼出し元のスクリプト名}.lock とする\n#\n_PID=${$}\n_PPID=`ps -o ppid -p ${_PID} | tail -1`\n_PCOMM=`ps -o comm -p ${_PPID} | tail -1`\n_COMM_LENGTH=`expr ${#_PCOMM} + 2`\n_PCMD=`ps -o command -p ${_PPID} | tail -1 | cut -c ${_COMM_LENGTH}- | awk '{print $1}'`\n\n_LOCKFILE=\"/tmp/.`basename ${_PCMD}`.lock\"\n\nif [ -f ${_LOCKFILE} ]; then\n  _LOCK_PID=`cat ${_LOCKFILE}`\n  kill -0 ${_LOCK_PID} 2> /dev/null\n  if [ \"$?\" == \"0\" ]; then\n    echo \"logWarn ${_SCRIPT} is running.\"\n    kill -9 ${_PPID}\n    exit 1;\n  fi\nfi\necho ${_PPID} > ${_LOCKFILE}\n","markers":{"markers":{"1":{"id":1,"range":[[25,2],[25,2]],"tailed":false,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":149,"goalBufferRange":null,"autoscroll":false},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[{"patches":[{"oldRange":[[26,0],[26,0]],"newRange":[[26,0],[26,1]],"oldText":"","newText":"T","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"reversed":false,"range":[[26,1],[26,1]]},"newParams":{"reversed":true,"range":[[26,0],[26,1]]},"deserializer":"MarkerPatch"},{"oldRange":[[26,0],[26,1]],"newRange":[[26,0],[26,0]],"oldText":"T","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[26,0],[26,0]],"newRange":[[26,0],[26,1]],"oldText":"","newText":"|","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[26,1],[26,1]]},"newParams":{"range":[[26,0],[26,1]]},"deserializer":"MarkerPatch"},{"oldRange":[[26,0],[26,1]],"newRange":[[26,0],[26,0]],"oldText":"|","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[25,2],[25,2]],"newRange":[[25,2],[26,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[26,0],[26,0]],"newRange":[[26,0],[26,0]],"oldText":"","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[26,0],[26,0]],"newRange":[[26,0],[27,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[27,0],[27,0]],"newRange":[[27,0],[27,0]],"oldText":"","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[29,0],[30,0]],"newRange":[[29,0],[29,0]],"oldText":"\n","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[27,0],[27,0]]},"newParams":{"range":[[26,0],[27,0]]},"deserializer":"MarkerPatch"},{"oldRange":[[26,0],[27,0]],"newRange":[[26,0],[26,0]],"oldText":"\n","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[26,0],[26,0]],"newRange":[[26,0],[27,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[27,0],[27,0]],"newRange":[[27,0],[27,0]],"oldText":"","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[27,0],[27,0]]},"newParams":{"range":[[26,0],[27,0]]},"deserializer":"MarkerPatch"},{"oldRange":[[26,0],[27,0]],"newRange":[[26,0],[26,0]],"oldText":"\n","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[26,0],[26,0]]},"newParams":{"range":[[25,2],[26,0]]},"deserializer":"MarkerPatch"},{"oldRange":[[25,2],[26,0]],"newRange":[[25,2],[25,2]],"oldText":"\n","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"}],"redoStack":[],"deserializer":"History"},"filePath":"/Users/tai/develops/workspace/shellutils/bin/checkLockFile","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"99442ed878632a2f0e00d4f7aa3b7da2c3c1be41","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"items":[{"id":149,"softTabs":true,"scrollTop":0,"scrollLeft":0,"displayBuffer":{"id":150,"softWrap":false,"editorWidthInChars":115,"tokenizedBuffer":{"bufferPath":"/Users/tai/develops/workspace/shellutils/bin/checkLockFile","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"}],"activeItemUri":"/Users/tai/develops/workspace/shellutils/bin/checkLockFile","focused":false,"active":true,"deserializer":"Pane"},"deserializer":"PaneContainer"},"fullScreen":true,"deserializer":"Workspace"},"packageStates":{"fuzzy-finder":{"/Users/tai/develops/workspace/shellutils/bin/checkLockFile":1397406925804},"keybinding-resolver":{"attached":false},"metrics":{"sessionLength":518220966},"tree-view":{"directoryExpansionStates":{},"selectedPath":"/Users/tai/develops/workspace/shellutils","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}}}